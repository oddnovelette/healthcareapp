<div class="title-block">
  <h3 class="title">
    Add a new patient {{inputName}}<span class="sparkline bar"></span>
  </h3>
  <div class="text-info info"><p>*all fields are required</p></div>
</div>

<section class="section">
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
    <div class="card">
      <div class="card-block">
        <div class="alert alert-success" *ngIf="message!==''">{{message}}</div>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">

          <div class="form-group"
               [ngClass]="{'has-error': form.get('name').invalid && form.get('name').touched}"
          >
            <label class="control-label" for="name">Name Surname:</label>
            <input
              type="text"
              id="name"
              class="form-control"
              formControlName="name"
              [(ngModel)]="inputName"
            >
            <span class="text-danger"
                  *ngIf="form.get('name').invalid && form.get('name').touched"
            >
            <span *ngIf="form.get('name')['errors']['required']">Name can't be empty<br></span>
            <span *ngIf="form.get('name')['errors']['minlength']">
            Name must be at least
            {{ form.get('name')['errors']['minlength']['requiredLength'] }} symbols.
            </span>
          </span>
          </div>

          <div class="form-group"
               [ngClass]="{'has-error': form.get('birthdate').invalid && form.get('birthdate').touched}"
          >
            <label class="control-label" for="birthdate">Date of Birth:</label>
            <input
              type="date"
              id="birthdate"
              class="form-control"
              formControlName="birthdate"
            >
            <span class="text-danger"
                  *ngIf="form.get('birthdate').invalid && form.get('birthdate').touched"
            >
            <span *ngIf="form.get('birthdate')['errors']['required']">Birthdate can't be empty<br></span>
          </span>
          </div>

          <div class="form-group">
            <label class="control-label" for="sex">Sex:</label>
            <div *ngFor="let g of gender">
              <label>
                <input
                  class="radio"
                  name="sex"
                  id="sex"
                  type="radio"
                  [value]="g.sex"
                  formControlName="sex"
                >
                <span>{{ g.label }}</span>
              </label>
            </div>
          </div>

          <div class="form-group"
               [ngClass]="{'has-error': form.get('country').invalid && form.get('country').touched}"
          >
            <label class="control-label" for="country">Country:</label>
            <input
              type="text"
              id="country"
              class="form-control"
              formControlName="country"
            >
            <span class="text-danger"
                  *ngIf="form.get('country').invalid && form.get('country').touched"
            >
            <span *ngIf="form.get('country')['errors']['required']">Country can't be empty<br></span>
          </span>
          </div>

          <div class="form-group"
               [ngClass]="{'has-error': form.get('state').invalid && form.get('state').touched}"
          >
            <label class="control-label" for="state">State:</label>
            <input
              type="text"
              id="state"
              class="form-control"
              formControlName="state"
            >
            <span class="text-danger"
                  *ngIf="form.get('state').invalid && form.get('state').touched"
            >
            <span *ngIf="form.get('state')['errors']['required']">State can't be empty<br></span>
          </span>
          </div>

          <div class="form-group"
               [ngClass]="{'has-error': form.get('address').invalid && form.get('address').touched}"
          >
            <label class="control-label" for="address">Address:</label>
            <input
              type="text"
              id="address"
              class="form-control"
              formControlName="address"
            >
            <span class="text-danger"
                  *ngIf="form.get('address').invalid && form.get('address').touched"
            >
            <span *ngIf="form.get('address')['errors']['required']">Address can't be empty<br></span>
          </span>
          </div>

          <button type="submit" class="btn btn-info btn-md" [disabled]="form.invalid">Add a new patient</button>
        </form>
      </div>
    </div>
   </div>
  </div>
</section>
